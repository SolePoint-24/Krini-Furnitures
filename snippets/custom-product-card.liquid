{% comment %}
  Reusable Custom Product Card Snippet

  Accepts:
  - card_product: {object} The product object to display.
{% endcomment %}

<div class="grid__item">
  <a href="{{ card_product.url }}" class="custom-product-card">
    <div class="custom-product-card__image-wrapper">
      {% if card_product.featured_media %}
        <img
          src="{{ card_product.featured_media | image_url: width: 500 }}"
          alt="{{ card_product.featured_media.alt | escape }}"
          loading="lazy"
          width="{{ card_product.featured_media.width }}"
          height="{{ card_product.featured_media.height }}"
          class="custom-product-card__image custom-product-card__image--primary"
        >
        {% if card_product.media[1] %}
          <img
            src="{{ card_product.media[1] | image_url: width: 500 }}"
            alt="{{ card_product.media[1].alt | escape }}"
            loading="lazy"
            width="{{ card_product.media[1].width }}"
            height="{{ card_product.media[1].height }}"
            class="custom-product-card__image custom-product-card__image--secondary"
          >
        {% endif %}
      {% else %}
        {{ 'product-1' | placeholder_svg_tag: 'placeholder-svg custom-product-card__image' }}
      {% endif %}

      <div class="custom-product-card__actions">
  
  <button
    class="custom-product-card__action-btn button-compare"
    data-product-handle="{{ card_product.handle }}"
    aria-label="Compare products" 
  >
    <svg class="icon-compare" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <polyline points="16 17 21 12 16 7"></polyline>
      <polyline points="8 17 3 12 8 7"></polyline>
      <line x1="21" y1="12" x2="3" y2="12"></line>
    </svg>
    
    <svg class="icon-checkmark" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <polyline points="20 6 9 17 4 12"></polyline>
    </svg>
  </button>
  
  <div class="compare-message">Added!</div> </div>
    </div>

    <div class="custom-product-card__info">
      <h3 class="custom-product-card__title">
        {{ card_product.title | escape }}
      </h3>
      <div class="custom-product-card__price">
        {{ card_product.price | money }}
        {% if card_product.compare_at_price > card_product.price %}
          <span class="custom-product-card__compare-price">
            {{- card_product.compare_at_price | money -}}
          </span>
        {% endif %}
      </div>
    </div>
  </a>
</div>
