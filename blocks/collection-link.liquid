{%- comment -%}
  ** Collection Link Block **
  - Displays the first collection the current product belongs to.
  - The collection name links directly to the collection page.
  - If the product is not in a collection, this block will not render.
{%- endcomment -%}

{%- liquid
  assign current_collection = product.collections | first
-%}

{%- if current_collection != blank -%}
  <div class="product-collection-link" {{ block.shopify_attributes }}>
    <p>
      <span>{{ block.settings.title }}</span>
      <a href="{{ current_collection.url }}">{{ current_collection.title }}</a>
    </p>
  </div>
{%- endif -%}

<style>
  .product-collection-link p {
    margin: 0.5rem 0;
    font-size: 1.4rem;
    line-height: 1.5;
    color: currentColor;
  }
  .product-collection-link a {
    color: currentColor;
    text-decoration: underline;
    text-underline-offset: 0.2rem;
    transition: opacity 0.3s ease;
  }
  .product-collection-link a:hover {
    opacity: 0.75;
  }
</style>

{% schema %}
{
  "name": "Collection Link",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "Collection: "
    }
  ]
}
{% endschema %}
